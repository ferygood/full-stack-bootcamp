<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>Assignment1_v1</title>
    <!--引入 css 樣式-->
    <link rel="stylesheet", type="text/css", href="nav.css" />
    <link rel="stylesheet", type="text/css", href="gallery.css" />
    
    <script type="text/javascript">
    let xhr = new XMLHttpRequest();
    xhr.open("get", "https://padax.github.io/taipei-day-trip-resources/taipei-attractions.json");
    xhr.onload=function(){
        let data=JSON.parse(this.responseText);
        let figurl=data["result"]["results"]; //從json檔案取出資料
        for (i=0; i<8; i++){
            let url=figurl[i]["file"].split("http")[1]; //將圖片網址用 http 切開
            let firsturl="http".concat(url); //組合第一張圖片網址
            //新增 img 標籤放入圖片
            let id="fig";
            id=id.concat((i+1).toString());
            let el=document.getElementById(id);
            let img=document.createElement("img");
            img.src=firsturl;
            el.appendChild(img);
            //新增 div 標籤放入圖說
            let text=document.createElement("div");
            text.className="caption";
            text.textContent=figurl[i]["stitle"];
            if (text.textContent.length < 13){
                text.textContent=figurl[i]["stitle"]+"\n\n123"
            }
            el.appendChild(text);
        };
    };
    xhr.send();
    </script>

</head>
<body>
    <nav>
        <div class="title">MyWebsite</div>
        <div class="title menu">
            <div class="item">Item1</div>
            <div class="item">Item2</div>            
            <div class="item">Item3</div>
            <div class="item">Item4</div>
        </div>
        <div class="mobile-menu">
            <img src="hamburger.png">
        </div>
    </nav>
    <div class="home">Welcome to MyHome</div>
    <section class="gallery">
        <div class="photo" id="fig1"></div>
        <div class="photo" id="fig2"></div>
        <div class="photo" id="fig3"></div>
        <div class="photo" id="fig4"></div>
    </section>
    <section class="gallery">
        <div class="photo" id="fig5"></div>
        <div class="photo" id="fig6"></div>
        <div class="photo" id="fig7"></div>
        <div class="photo" id="fig8"></div>
    </section>
</body>