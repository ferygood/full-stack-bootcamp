<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width" initial-scale=1 maximum-scale=1 />
    <title>Assignment_W4</title>
    <script type="text/javascript">
    function getData(query){
        var req=new XMLHttpRequest();
        req.open("GET", "http://127.0.0.1:3000/api/users?username="+query, true);
        req.onload=function(){
            var json=JSON.parse(req.responseText);
            //console.log(json["data"]["name"]) //用來檢查
            var content=document.getElementById("show_username");
            content.innerHTML = json["data"]["name"]
        };
        req.send();
    }
    </script>
    <link rel="stylesheet", href="{{url_for('static', filename='nav.css')}}"/>
</head>
<body>
    <nav>
        <div class="title">歡迎光臨，這是會員頁</div>
        <div class="topic">{{ data }}，歡迎登入系統</div>
        <form action="/signout" method="GET">
                <p style="text-align: center;">
                    <a href="/signout">登出系統</a>
                </p>
        </form>
        <p style="text-align: center; font-weight: bold;">查詢會員姓名</p>
        <div style="text-align: center;">
            <input type="text" name="" id="username_id"> <button onclick="getData(document.getElementById('username_id').value);">查詢</button>
            <div id="show_username"></div>
        </div>
    </nav>
</body>
</html>